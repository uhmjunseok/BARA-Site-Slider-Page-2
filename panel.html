<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>MICROCOSM Panel</title>

  <style>
    html, body{
      margin:0;
      padding:0;
      height:100%;
      background:transparent;
      overflow:hidden;

      font-family:"Aktiv Grotesk","AktivGrotesk",Arial,sans-serif;
      font-size:15px;

      /* Safari / Chrome 폰트 스케일 고정 */
      -webkit-text-size-adjust:100%;
      text-size-adjust:100%;

      letter-spacing:-0.3px;
      line-height:1.2;
      color:#111;
    }

    /* 패널 루트 */
    .root{
      height:100%;
      padding:24px;
      box-sizing:border-box;
      background:transparent;

      /* ✅ 내용이 많아지면 패널 안에서만 스크롤 */
      overflow:auto;
      -webkit-overflow-scrolling:touch;
    }

    /* ✅ 박스보다 넓어질 경우 강제 줄바꿈 */
    .root,
    .mt-title,
    .mt-sub,
    .mt-desc{
      max-width:100%;
      overflow-wrap:anywhere;
      word-break:break-word;
    }

    .mt-title{
      margin-bottom:6px;
    }

    .mt-sub{
      margin-bottom:14px;
    }

    .mt-desc{
      margin-bottom:14px;
      max-width:60ch;
    }

    .mt-year{
      opacity:.8;
    }

    /* ✅ 모바일 보정 */
    @media (max-width: 480px){
      html, body{ font-size:14px; }
      .root{ padding:18px; }
      .mt-desc{ max-width:52ch; }
    }
  </style>
</head>

<body>
  <div class="root">
    <div class="mt-title" id="mtTitle">MICROCOSM</div>
    <div class="mt-sub" id="mtSub"></div>
    <div class="mt-desc" id="mtDesc">
      A compact study of sound, rhythm, and presence.
    </div>
    <div class="mt-year">2025</div>
  </div>

<script>
(function(){
  const DATA = {
    'DRPC2Ba7i7E': {
      title:'MICROCOSM I',
      sub:'RHYTHM',
      desc:'A form appears, holds, and subtly disturbs the stillness of an office interior.'
    },
    'Rp0HBSVz4hg': {
      title:'MICROCOSM II',
      sub:'INTRUSION',
      desc:'Particles drift and cluster, exposing surface and texture through slow accumulation.'
    },
    'EBvlq_t6CHA': {
      title:'MICROCOSM III',
      sub:'SPREAD',
      desc:'Elements expand and overlap, producing a continuous yet unstable spatial flow.'
    },
    'TldWk1-rzIA': {
      title:'MICROCOSM IV',
      sub:'DISRUPTION',
      desc:'Irregular movements interrupt the system, leaving residual patterns and breaks in rhythm.'
    }
  };

  const titleEl = document.getElementById('mtTitle');
  const subEl   = document.getElementById('mtSub');
  const descEl  = document.getElementById('mtDesc');

  function setDefault(){
    titleEl.textContent = 'MICROCOSM';
    subEl.textContent   = '';
    descEl.textContent  = 'A compact study of sound, rhythm, and presence.';
  }

  function apply(videoId){
    const d = DATA[videoId];
    if (!d){
      setDefault();
      return;
    }
    titleEl.textContent = d.title;
    subEl.textContent   = d.sub;
    descEl.textContent  = d.desc;
  }

  /* 플레이어 → 패널 메시지 수신 */
  window.addEventListener('message', function(ev){
    const data = ev.data;
    if (!data || data.type !== 'BARA_VIDEO_SELECT') return;
    apply(data.videoId);
  });

  /* 초기 상태 */
  setDefault();
})();
</script>
</body>
</html>
